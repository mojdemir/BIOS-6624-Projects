---
title: "Plots"
author: "Moj"
date: "2026-02-24"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

## R Markdown

This is an R Markdown document. Markdown is a simple formatting syntax for authoring HTML, PDF, and MS Word documents. For more details on using R Markdown see <http://rmarkdown.rstudio.com>.

When you click the **Knit** button a document will be generated that includes both content as well as the output of any embedded R code chunks within the document. You can embed an R code chunk like this:

```{r cars}
library(tidyverse)

# ---- Enter your final table values here ----
df_forest <- tribble(
  ~Outcome, ~Model, ~beta_mean, ~hdi_low, ~hdi_high, ~gamma,
  "Log10 Viral Load", "Adjusted",        -0.028,  -0.436,   0.359, 0.5,
  "Log10 Viral Load", "Adjusted + ADH",   0.017,  -0.365,   0.431, 0.5,
  "CD4 Count",        "Adjusted",      -148.399, -208.554, -87.992, 50,
  "CD4 Count",        "Adjusted + ADH", -152.973, -209.429, -94.478, 50,
  "Physical QoL",     "Adjusted",        -3.332,  -6.150,  -0.790, 2,
  "Physical QoL",     "Adjusted + ADH",  -3.567,  -6.339,  -0.964, 2,
  "Mental QoL",       "Adjusted",        -0.497,  -4.002,   2.968, 2,
  "Mental QoL",       "Adjusted + ADH",  -0.742,  -4.290,   2.803, 2
) %>%
  mutate(
    label = paste0(Outcome, " (", Model, ")"),
    Outcome = factor(Outcome, levels = c("Log10 Viral Load","CD4 Count","Physical QoL","Mental QoL")),
    label = factor(label, levels = rev(label))  # for top-to-bottom ordering
  )

# ---- Forest plot ----
ggplot(df_forest, aes(x = beta_mean, y = label)) +
  geom_vline(xintercept = 0, linetype = "dashed") +
  geom_errorbarh(aes(xmin = hdi_low, xmax = hdi_high), height = 0.2) +
  geom_point(size = 2) +
  labs(
    x = "Posterior Mean (Î²) with 95% HPDI",
    y = NULL,
    title = "Forest Plot: Effect of Baseline Hard Drug Use on Year 2 Outcomes"
  ) +
  theme_minimal(base_size = 12)
```

## Including Plots

You can also embed plots, for example:

```{r pressure, echo=FALSE}
plot(pressure)
```

Note that the `echo = FALSE` parameter was added to the code chunk to prevent printing of the R code that generated the plot.
